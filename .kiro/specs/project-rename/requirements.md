# Requirements Document

## はじめに

このドキュメントは、cc-tools-managerプロジェクトの名前変更に関する要件を定義します。現在の「cc-tools-manager」という名前は、「cc」という略称が曖昧で何を指すか不明確であり、さらに名前全体が長くコマンドとして打ちづらいという問題があります。これを解決するため、より明確で短く、Claude関連ツールであることが分かりやすい名前への変更を行います。

第一候補として「ccpm (Claude Code Package Manager)」を検討していますが、他の選択肢も含めて最適な名前を選定します。

## 要件

### 要件1: プロジェクト名の選定と変更

**ユーザーストーリー:** プロジェクトメンテナーとして、より明確で使いやすいプロジェクト名に変更したい。これにより、ユーザーがツールの目的を理解しやすくなり、コマンド入力も簡単になる。

#### 受け入れ条件

1. WHEN 新しいプロジェクト名を選定する THEN システム SHALL 以下の条件を満たす名前を選択する：
   - npmレジストリで利用可能である
   - Claude関連ツールであることが明確である
   - 4文字以下の短縮コマンド名が設定可能である
   - 既存の有名なツールと混同しない独自性がある

2. IF 第一候補の「ccpm」が選択される THEN システム SHALL 以下の名前構成を採用する：
   - パッケージ名: `ccpm` または `claude-code-package-manager`
   - 実行コマンド: `ccpm`
   - GitHubリポジトリ名: `ccpm` または `claude-code-package-manager`

3. WHEN 他の候補を検討する THEN システム SHALL 以下の選択肢も評価する：
   - `cctm` (CC Tools Manager)
   - `clpm` (Claude Package Manager)
   - `claude-tools`
   - その他の適切な名前

### 要件2: npmパッケージの設定更新

**ユーザーストーリー:** 開発者として、新しい名前でnpmパッケージを公開・利用できるようにしたい。これにより、`npx`コマンドでの実行が可能になる。

#### 受け入れ条件

1. WHEN package.jsonを更新する THEN システム SHALL 以下の項目を変更する：
   - `name`フィールドを新しいパッケージ名に更新
   - `bin`フィールドで新しいコマンド名を設定
   - `repository.url`を新しいリポジトリURLに更新
   - `bugs.url`と`homepage`を新しいURLに更新

2. IF 短縮コマンド名と正式名が異なる場合 THEN システム SHALL binフィールドで両方のエイリアスを提供する：
   ```json
   "bin": {
     "claude-code-package-manager": "./dist/index.js",
     "ccpm": "./dist/index.js"
   }
   ```

3. WHEN npm公開の準備をする THEN システム SHALL 既存のcc-tools-managerパッケージとの関係を明示する：
   - READMEに移行案内を記載
   - package.jsonのdescriptionに旧名からの移行であることを記載

### 要件3: ソースコード内の参照更新

**ユーザーストーリー:** 開発者として、ソースコード全体で一貫した新しい名前を使用したい。これにより、コードの保守性と理解しやすさが向上する。

#### 受け入れ条件

1. WHEN ソースコードを更新する THEN システム SHALL 以下の箇所を変更する：
   - CLI表示名（program.name()）
   - ログメッセージ内のアプリケーション名
   - エラーメッセージ内の参照
   - コメント内の名前参照

2. WHEN 環境変数名を更新する THEN システム SHALL 新しいプレフィックスを使用する：
   - `CC_TOOLS_*` → 新しいプレフィックス（例: `CCPM_*`）
   - 後方互換性のため、旧環境変数名もサポート

3. IF 環境変数の後方互換性を提供する THEN システム SHALL 以下の優先順位で値を読み取る：
   1. 新しい環境変数名
   2. 旧環境変数名（非推奨警告を表示）
   3. デフォルト値

### 要件4: ドキュメントの更新

**ユーザーストーリー:** ユーザーとして、新しい名前で統一されたドキュメントを参照したい。これにより、混乱なくツールを利用できる。

#### 受け入れ条件

1. WHEN READMEを更新する THEN システム SHALL 以下の内容を変更する：
   - プロジェクト名とタイトル
   - インストールコマンド例
   - 使用例のコマンド
   - 環境変数名
   - GitHubリポジトリURL

2. WHEN その他のドキュメントを更新する THEN システム SHALL 以下のファイルも変更する：
   - CONTRIBUTING.md
   - docs/配下のすべてのファイル
   - .kiro/steering/配下の関連ファイル

3. WHERE 日本語ドキュメントが存在する場合 THE SYSTEM SHALL 英語版と同様の更新を行う

### 要件5: 移行サポート

**ユーザーストーリー:** 既存ユーザーとして、スムーズに新しい名前のツールに移行したい。これにより、作業の中断を最小限に抑えられる。

#### 受け入れ条件

1. WHEN 移行ガイドを作成する THEN システム SHALL 以下の情報を提供する：
   - 旧コマンドから新コマンドへの変更方法
   - 環境変数の移行方法
   - グローバルインストールの再設定方法

2. IF ユーザーが旧コマンド名を使用した場合 THEN システム SHALL 非推奨警告を表示し、新しいコマンド名を案内する

3. WHEN バージョン番号を更新する THEN システム SHALL メジャーバージョンを上げて重大な変更であることを示す（例: 1.0.0 → 2.0.0）

### 要件6: GitHubリポジトリの移行

**ユーザーストーリー:** プロジェクトメンテナーとして、GitHubリポジトリ名も新しい名前に変更したい。これにより、プロジェクトの一貫性が保たれる。

#### 受け入れ条件

1. WHEN GitHubリポジトリ名を変更する THEN システム SHALL GitHubの自動リダイレクト機能を活用する

2. WHERE インストールスクリプト（install.sh）が存在する場合 THE SYSTEM SHALL 新しいリポジトリURLを使用するよう更新する

3. IF CI/CDワークフローが存在する場合 THEN システム SHALL 参照URLを更新する

### 要件7: テストとビルドシステムの更新

**ユーザーストーリー:** 開発者として、新しい名前でもテストとビルドが正常に動作することを確認したい。

#### 受け入れ条件

1. WHEN テストファイルを更新する THEN システム SHALL テスト内の名前参照をすべて変更する

2. WHILE ビルドプロセスを実行する THE SYSTEM SHALL 新しい名前で正しくパッケージが生成されることを確認する

3. WHERE TypeScript設定が存在する場合 THE SYSTEM SHALL 必要に応じてビルド出力パスを調整する